package schedule;

import java.util.ArrayList;

public class Scheduler {
	private Machine[] machines;
	/** Skapar ett schemaläggare för maskinerna 
		i vektorn machines. */
	public Scheduler(Machine[] machines) {
		this.machines = machines;
		
	}
	
	/** Fördelar jobben i listan jobs på maskinerna. 
	 	Jobben är sortrade är sorterad efter avtagande tidsåtgång. */
	public void makeSchedule(ArrayList<Job> jobs) {
		int indexmachine=0;
		while(jobs.size()!=0){
		for(int i = 0; i<machines.length;i++){
			for(int j = i+1;j<machines.length;j++)
				if(machines[i].getTotalTime()<machines[j].getTotalTime()){
					indexmachine=i;					
				}
				else{
					indexmachine=j;
					break;
				}
		}
		machines[indexmachine].assignJob(jobs.get(0));
		jobs.remove(0);
		}
		
		
	}
	
	/** Skriver ut maskinernas scheman. */
	public void printSchedule() {
		StringBuilder builder = new StringBuilder();
		for(Machine m: machines){
			builder.append(m.toString());
			builder.append("\n");
		}
		return builder.toString();
		
		
		
	}
}
